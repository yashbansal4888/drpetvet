{"version":3,"sources":["../../../../src/app-router/server/ClerkProvider.tsx"],"sourcesContent":["import type { InitialState, Without } from '@clerk/types';\nimport { headers } from 'next/headers';\nimport React from 'react';\n\nimport type { NextClerkProviderProps } from '../../types';\nimport { mergeNextClerkPropsWithEnv } from '../../utils/mergeNextClerkPropsWithEnv';\nimport { ClientClerkProvider } from '../client/ClerkProvider';\nimport { initialState } from './auth';\nimport { getScriptNonceFromHeader } from './utils';\n\nexport function ClerkProvider(props: Without<NextClerkProviderProps, '__unstable_invokeMiddlewareOnAuthStateChange'>) {\n  const { children, ...rest } = props;\n  const state = initialState()?.__clerk_ssr_state as InitialState;\n  const cspHeader = headers().get('Content-Security-Policy');\n\n  return (\n    <ClientClerkProvider\n      {...mergeNextClerkPropsWithEnv(rest)}\n      nonce={getScriptNonceFromHeader(cspHeader || '')}\n      initialState={state}\n    >\n      {children}\n    </ClientClerkProvider>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,qBAAwB;AACxB,mBAAkB;AAGlB,wCAA2C;AAC3C,2BAAoC;AACpC,kBAA6B;AAC7B,mBAAyC;AAElC,SAAS,cAAc,OAAwF;AAVtH;AAWE,QAAM,EAAE,UAAU,GAAG,KAAK,IAAI;AAC9B,QAAM,SAAQ,mCAAa,MAAb,mBAAgB;AAC9B,QAAM,gBAAY,wBAAQ,EAAE,IAAI,yBAAyB;AAEzD,SACE,6BAAAA,QAAA;AAAA,IAAC;AAAA;AAAA,MACE,OAAG,8DAA2B,IAAI;AAAA,MACnC,WAAO,uCAAyB,aAAa,EAAE;AAAA,MAC/C,cAAc;AAAA;AAAA,IAEb;AAAA,EACH;AAEJ;","names":["React"]}